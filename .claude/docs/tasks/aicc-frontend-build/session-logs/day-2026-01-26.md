# 2026-01-26 AICC 금융 AI 고객센터 구축 세션

## Session metadata
- Start time: 10:00
- End time: 11:30
- Main work: MOCK API, 스토어, 서비스 구현 및 코드 리뷰
- Branch: main
- Owner: Moon

## Timeline

### [10:00] PM 워크플로우 시작
- 요청사항 분석 (requirements-analyzer)
- context.md 생성 (context-builder)
- 복잡도: complex
- Phase: implementation

### [10:20] 구현 Phase 1 완료
- API 클라이언트 구현 (axios)
- MOCK API 구현 (chatApi, agentApi, authApi)
- Zustand 스토어 3개 구현
- 민감정보 마스킹 서비스 구현

### [10:30] 테스트 설정 완료
- Vitest 설정
- 40개 테스트 작성 및 통과

### [10:40] 코드 리뷰 완료
- CRITICAL 이슈 2건 발견
- HIGH 이슈 4건 발견
- MEDIUM 이슈 6건 발견

### [10:50] 보안 이슈 수정 완료
- LocalStorage → 쿠키 기반 인증
- HttpOnly, Secure, SameSite 적용

### [11:00] HIGH 이슈 수정 완료
- 콘솔 로그 제거
- 매직 넘버 상수화
- TypeScript 게터 문법 수정
- 에러 처리 개선

### [11:15] MEDIUM 이슈 수정 완료
- 인라인 style → CSS 파일
- useEffect 의존성 최적화
- React.memo 적용
- localStorage 에러 처리
- 입력 검증 추가

### [11:20] 빌드 및 테스트 검증
- npm run build: 성공 (6.18초)
- npm test: 40/40 통과

### [11:30] 커밋 완료
- 커밋 ID: 8f94442
- 27 files changed, 11548 insertions(+), 344 deletions(-)

## Decision log

| Time | Decision | Reason | Alternative |
|------|----------|--------|-------------|
| 10:20 | MOCK API 먼저 구현 | 백엔드 API 미확정 | 실제 API 연동 (보류) |
| 10:50 | 쿠키 기반 인증 | XSS 방어 | LocalStorage (거부) |
| 11:00 | 상수 파일 분리 | 매직 넘버 제거 | 인라인 값 (거부) |
| 11:15 | CSS 파일 분리 | 성능 최적화 | 인라인 style (거부) |

## Issue log

### Issue #1: npm install 실패
- **Found at**: 10:55
- **Problem**: `Cannot read properties of null (reading 'matches')`
- **Cause**: React 19 vs lucide-react peer dependency 충돌
- **Fix**: `--legacy-peer-deps` 옵션 사용
- **Time spent**: 10m
- **Prevention**: React 버전 확인 후 의존성 추가

### Issue #2: @testing-library/dom 누락
- **Found at**: 11:05
- **Problem**: 테스트 실행 시 모듈 찾지 못함
- **Cause**: Testing Library 의존성 미설치
- **Fix**: 별도 설치
- **Time spent**: 2m
- **Prevention**: 의존성 명세서 작성 시 확인

## Blocking/Waiting

| Start | End | Reason | Impact |
|-------|-----|--------|--------|
| 10:55 | 11:05 | npm install 실패 해결 | 10m 지연 |

## Retrospective notes

### What went well
- PM 워크플로우 자동화로 효율적인 진행
- 코드 리뷰 통해 보안 이슈 조기 발견
- 모든 테스트 통과로 안정성 확보

### What to improve
- peer dependency 충돌 사전 확인 필요
- 테스트 의존성 명확히 명시

### Lessons learned
- 보안은 초기부터 고려해야 함
- 코드 품질 개선은 리팩토링 단계가 아닌 구현 단계에서
